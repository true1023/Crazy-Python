### â–¶ è¶…é•¿å­—ç¬¦ä¸²!

```py
#ä½¿ç”¨åŠ å·è¿æ¥å­—ç¬¦ä¸²
def add_string_with_plus(iters):
    s = ""
    for i in range(iters):
        s += "xyz"
    assert len(s) == 3*iters

#ä½¿ç”¨æ¯”ç‰¹æµè¿æ¥å­—ç¬¦ä¸²
def add_bytes_with_plus(iters):
    s = b""
    for i in range(iters):
        s += b"xyz"
    assert len(s) == 3*iters

#ä½¿ç”¨formatå‡½æ•°è¿æ¥å­—ç¬¦ä¸²
def add_string_with_format(iters):
    fs = "{}"*iters
    s = fs.format(*(["xyz"]*iters))
    assert len(s) == 3*iters

#ä½¿ç”¨æ•°ç»„è¿æ¥å­—ç¬¦ä¸²
def add_string_with_join(iters):
    l = []
    for i in range(iters):
        l.append("xyz")
    s = "".join(l)
    assert len(s) == 3*iters

#å°†åˆ—è¡¨è½¬æ¢æˆå­—ç¬¦ä¸²
def convert_list_to_string(l, iters):
    s = "".join(l)
    assert len(s) == 3*iters
```

**Output:**
```py
>>> timeit(add_string_with_plus(10000))
1000 loops, best of 3: 972 Âµs per loop
>>> timeit(add_bytes_with_plus(10000))
1000 loops, best of 3: 815 Âµs per loop
>>> timeit(add_string_with_format(10000))
1000 loops, best of 3: 508 Âµs per loop
>>> timeit(add_string_with_join(10000))
1000 loops, best of 3: 878 Âµs per loop
>>> l = ["xyz"]*10000
>>> timeit(convert_list_to_string(l, 10000))
10000 loops, best of 3: 80 Âµs per loop
```

è®©æˆ‘ä»¬æŠŠå¾ªç¯æ¬¡æ•°æå‡åå€ã€‚

```py
>>> timeit(add_string_with_plus(100000)) # æ‰§è¡Œæ—¶é—´çº¿æ€§å¢åŠ 
100 loops, best of 3: 9.75 ms per loop
>>> timeit(add_bytes_with_plus(100000)) # å¹³æ–¹å¼å¢åŠ 
1000 loops, best of 3: 974 ms per loop
>>> timeit(add_string_with_format(100000)) # çº¿æ€§å¢åŠ 
100 loops, best of 3: 5.25 ms per loop
>>> timeit(add_string_with_join(100000)) # çº¿æ€§å¢åŠ 
100 loops, best of 3: 9.85 ms per loop
>>> l = ["xyz"]*100000
>>> timeit(convert_list_to_string(l, 100000)) # çº¿æ€§å¢åŠ 
1000 loops, best of 3: 723 Âµs per loop
```

#### ğŸ’¡ è§£é‡Š
- å…³äº`timeit`æ¨¡å—çš„ç”¨æ³•å¯ä»¥çœ‹[è¿™é‡Œ](https://docs.python.org/3/library/timeit.html)ã€‚è¿™æ˜¯ä¸€ä¸ªç”¨æ¥æµ‹é‡ç¨‹åºå—æ‰§è¡Œæ—¶é—´çš„æ¨¡å—ã€‚
- åœ¨Pythonä¸­ï¼Œä¸è¦è¯•å›¾ç”¨`+`æ¥è¿æ¥ä¸€ä¸ªé•¿å­—ç¬¦ä¸²ï¼Œå› ä¸º`str`è¿™ä¸ªç±»å‹åœ¨Pythonä¸­æ˜¯ä¸€ä¸ªä¸å¯å˜ç±»å‹ï¼Œè¿™å°±æ„å‘³ç€æ¯æ¬¡ä¸¤ä¸ªå­—ç¬¦ä¸²å¯¹è±¡è¿æ¥ç¨‹åºéƒ½éœ€è¦ä»å·¦åˆ°å³æŠŠä¸¤ä¸ªå­—ç¬¦ä¸²çš„æ¯ä¸€ä¸ªå­—ç¬¦éƒ½å¤åˆ¶ä¸€ä»½ã€‚æ¯”å¦‚ä½ ç°åœ¨è¦è¿æ¥å››ä¸ªé•¿åº¦ä¸º10çš„å­—ç¬¦ä¸²ï¼Œé‚£ä¹ˆç¨‹åºéœ€è¦æ‹·è´ (10+10) + ((10+10)+10) + (((10+10)+10)+10) = 90 ä¸ªå­—ç¬¦ï¼Œè€Œä¸æ˜¯40ä¸ªã€‚è€Œä¸”ç¨‹åºè¿è¡Œæ—¶é—´ä¼šéšç€ä½ éœ€è¦è¿æ¥çš„å­—ç¬¦ä¸²æ•°é‡å’Œå­—ç¬¦æ•°é‡å‘ˆå¹³æ–¹å½¢å¼çš„å¢é•¿ã€‚ï¼ˆè¯·å‚è€ƒ`add_bytes_with_plus`å‡½æ•°çš„æ‰§è¡Œæ—¶é—´å¯¹æ¯”ï¼‰ã€‚
- æ‰€ä»¥ï¼Œå»ºè®®å¤§å®¶ä½¿ç”¨`.format`æˆ–è€…`%`è¿™ç§è¯­æ³•ï¼ˆä½†æ˜¯ï¼Œå®ƒä»¬åœ¨è¿æ¥çŸ­å­—ç¬¦ä¸²çš„æ—¶å€™ä¼šæ¯”`+`å·æ…¢ä¸€ç‚¹ï¼‰ã€‚
- æˆ–è€…ï¼Œå¦‚æœå·²ç»æå‰è·å¾—äº†ä¸€ä¸ªå¯ä»¥è¿­ä»£çš„å¯¹è±¡ï¼Œåˆ™å¯ä»¥ä½¿ç”¨`''.join(iterable_object)`è¿™ç§è¯­æ³•æŠŠå®ƒè¿æ¥æˆå­—ç¬¦ä¸²ï¼Œè¿™æ ·çš„é€Ÿåº¦ä¼šæ¯”å‰å‡ ä¸ªéƒ½å¿«ã€‚
- è‡³äºä¸ºä»€ä¹ˆ`add_string_with_plus`ä¸ä¼šåƒ`add_bytes_with_plus`ç€è¿™æ ·æˆå¹³æ–¹å½¢å¼çš„æå‡æ‰§è¡Œæ—¶é—´ï¼Œæ˜¯å› ä¸ºå‰é¢ä¾‹å­é‡Œå·²ç»è§£é‡Šè¿‡çš„`+=`æ“ä½œç¬¦çš„ä¼˜åŒ–æ•ˆæœã€‚å¦‚æœæŠŠ`s += "xyz"`è¿™å¥è¯æ›¿æ¢æˆäº†`s = s + "x" + "y" + "z"`,é‚£ä¹ˆæ‰§è¡Œæ—¶é—´è¿˜æ˜¯ä¼šå‘ˆå¹³æ–¹å½¢å¼çš„å¢åŠ ã€‚
  ```py
  def add_string_with_plus(iters):
      s = ""
      for i in range(iters):
          s = s + "x" + "y" + "z"
      assert len(s) == 3*iters

  >>> timeit(add_string_with_plus(10000))
  100 loops, best of 3: 9.87 ms per loop
  >>> timeit(add_string_with_plus(100000)) # å¹³æ–¹å¼å¢åŠ 
  1 loops, best of 3: 1.09 s per loop
  ```

---