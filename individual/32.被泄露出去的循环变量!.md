### â–¶ è¢«æ³„éœ²å‡ºå»çš„å¾ªç¯å˜é‡!

1\.
```py
for x in range(7):
    if x == 6:
        print(x, ': for x inside loop')
print(x, ': x in global')
```

**Output:**
```py
6 : for x inside loop
6 : x in global
```

ä½†æ˜¯æˆ‘ä»æ¥æ²¡æœ‰åœ¨å¾ªç¯å¤–å®šä¹‰ä¸€ä¸ªå˜é‡`x`å‘€ï¼

2\.
```py
# è¿™å›æˆ‘å…ˆåˆå§‹åŒ–ä¸€ä¸ªxå˜é‡
x = -1
for x in range(7):
    if x == 6:
        print(x, ': for x inside loop')
print(x, ': x in global')
```

**Output:**
```py
6 : for x inside loop
6 : x in global
```

3\.
```
x = 1
print([x for x in range(5)])
print(x, ': x in global')
```

**Output (Python 2.x):**
```
[0, 1, 2, 3, 4]
(4, ': x in global')
```

**Output (Python 3.x):**
```
[0, 1, 2, 3, 4]
1 : x in global
```

#### ğŸ’¡ è§£é‡Š:

- åœ¨Pythoné‡Œï¼Œ forå¾ªç¯æœ‰å®ƒè‡ªå·±çš„ä½œç”¨åŸŸï¼Œä½†æ˜¯åœ¨å¾ªç¯ç»“æŸåï¼Œä¸ä¼šé”€æ¯é‚£äº›å¾ªç¯å˜é‡ã€‚å°±ç®—æˆ‘ä»¬æå‰åœ¨å…¨å±€ä½œç”¨åŸŸé‡Œå®šä¹‰äº†å˜é‡ï¼ˆå°±åƒä¸Šé¢é‚£ç§æƒ…å†µï¼‰ï¼Œä¹Ÿä¼šè¢«å¾ªç¯å˜é‡è¦†ç›–ã€‚

- å…³äºä¸ºä»€ä¹ˆåœ¨Python2å’ŒPython3ä¸­æœ‰ä¸åŒçš„è¾“å‡ºï¼Œå¯ä»¥åœ¨Python3çš„æ–‡æ¡£([What's New In Python 3.0](https://docs.python.org/3/whatsnew/3.0.html))ä¸­æ‰¾åˆ°ç­”æ¡ˆï¼Œä¸‹é¢ä¼šè´´å‡ºåŸæ–‡ï¼š

    >"List comprehensions no longer support the syntactic form `[... for var in item1, item2, ...]`. Use `[... for var in (item1, item2, ...)]` instead. Also, note that list comprehensions have different semantics: they are closer to syntactic sugar for a generator expression inside a `list()` constructor, and in particular the loop control variables are no longer leaked into the surrounding scope."

- åªç”¨çœ‹æœ€åä¸€å¥è¯å°±å¤Ÿäº†**in particular the loop control variables are no longer leaked into the surrounding scope**ï¼Œç¿»è¯‘è¿‡æ¥æ˜¯**ç‰¹åˆ«æ˜¯å¾ªç¯æ§åˆ¶å˜é‡ä¸ä¼šå†æ³„éœ²åˆ°åŒ…å›´ç€å®ƒçš„ä½œç”¨åŸŸä»¥å¤–äº†**ï¼Œè¿˜æœ‰è¿™ä¸ªç‰¹æ€§æ˜¯é’ˆå¯¹æ„é€ åˆ—è¡¨(List comprehensions)è¯´çš„ï¼Œä¸åŒ…æ‹¬æ­£å¸¸çš„forå¾ªç¯ã€‚

---